<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="bunyan-hub : A centralized bunyan log aggregator.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>bunyan-hub</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/undoZen/bunyan-hub">View on GitHub</a>

          <h1 id="project_title">bunyan-hub</h1>
          <h2 id="project_tagline">A centralized bunyan log aggregator.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/undoZen/bunyan-hub/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/undoZen/bunyan-hub/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="bunyan-hub" class="anchor" href="#bunyan-hub" aria-hidden="true"><span class="octicon octicon-link"></span></a>bunyan-hub</h1>

<p>A centralized bunyan log aggregator.</p>

<p><a href="https://github.com/trentm/node-bunyan">bunyan</a> is a simple and powerful log module for node.js. This program is a server which collecting log events from all local node service. It simply start a tcp server on 28692 (BUNYA on phonepad) and waiting other node program to send new-line determined JSON string to it. You can use <a href="https://www.npmjs.com/package/bunyan-hub-logger">bunyan-hub-logger</a> (or <a href="https://www.npmjs.com/package/bunyan-pub-stream">bunyan-pub-stream</a> + bunyan) to push log to it and use <a href="https://www.npmjs.com/package/bunyan-sub">bunyan-sub</a> cli tool to subcribes to it with specified conditions. or use <a href="https://www.npmjs.com/package/bunyan-sub-stream">bunyan-sub-stream</a> api for programing use.</p>

<p>I'm also planning develop a web dashboad for it like <a href="http://logio.org/">logio</a> and then it would a killer app for having a local centralized log aggregator.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>install</h2>

<div class="highlight highlight-bash"><pre>npm i -g bunyan-hub</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>usage</h2>

<div class="highlight highlight-bash"><pre>bunyanhub start
bunyanhub stop</pre></div>

<h2>
<a id="protocol" class="anchor" href="#protocol" aria-hidden="true"><span class="octicon octicon-link"></span></a>protocol</h2>

<p>once connected to localhost:28692 which bunyan-hub listening, you could write a JSON with <code>cmd</code> property ending with <code>\n</code> or FIN.</p>

<p><code>{"cmd":"stop"}\n</code> will stop the server.
<code>{"cmd":"version"}\n</code> will give you bunyah-hub version back.
<code>{"cmd":"publish"}\n</code> will return you nothing, but expect you to further sending more JSON string which is in bunyan record format.
<code>{"cmd":"subscribe"}\n</code> will turn you tcp client into subscription mode, bunyan-hub will send you bunyan records in new-line determined JSON string.</p>

<p>usually you don't need to use raw TCP connection you self, instead using high level modules mentioned in the top section of this readme document.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>license</h2>

<p>MIT</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">bunyan-hub maintained by <a href="https://github.com/undoZen">undoZen</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
